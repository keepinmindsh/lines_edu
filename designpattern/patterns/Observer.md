# Observer 

## Basic Information 

- 패턴형식 : 행위패턴

## Gof's Description 

객체 사이에 일 대 다의 의존 관계를 정의해 두어, 어떤 객체의 상태가 변할 때 그 객체에 의존성을 가진 다른 객체들이 그 변화를 통지받고 자동으로 갱신될 수 있게 만듭니다.

## 풀이 

Gof에서 이야기하는 것은 다수의 객체들이 하나의 데이터를 바라보는 의존성을 가질 때, 
즉 데이터 변경이 여러 객체로 통지되어야하는 구조일 때, 객체간의 결합도를 높이지 않으면서
객체간의 일관성을 유지하는 것입니다.    

### 예시 

- 스프레드 시트의 데이터 값
- 스프레드 시트에 의존하는 표
- 스프레드 시트에 의존하는 막대 그래프 
- 스프레드 시트에 의존하는 원형 그래프 

스프레드 시트에 데이터 값이 변경될 때, 표, 막대 그래프, 원형 그래프의 값도 변경되어야 합니다.    

여기에서 스프레드 시트의  데이터를 **Subject(주체)** 라고 하고, 표, 막대 그래프, 원형 그래프를 **Observers(감시자)** 라고 합니다.  

- 주체는 데이터의 상태 변경을 감시자에게 통지해야 합니다. 
- 감시자는 주체의 상태 변경을 통지 받아 객체가 수행해야할 일을 처리합니다. 

위와 같은 종류의 상호 작용을 **게시-구독** 관계라고 합니다.  

- 주체는 상태 변경에 대한 통보를 하는 것이므로 누가 감시자인지 모른채 통보를 발송합니다. 
- 불특정 다수의 감시자가 이 통보를 수신하기 위해서 구독을 신청하는 것입니다. 

### 활용 가능한 경우 

- 어떤 추상 개념이 두 가지 양상을 갖고 다른 하나가 종속적일 때, 각 양상을 별도의 객체로 캡슐화하여 이들 각각을 재사용할 수 있습니다. 
- 한 객체에 가해진 변경으로 다른 객체를 변경해야 하고, 프로그래머들은 얼마나 많은 객체들이 변경되어야 하는지 몰라도 될때, 
- 어떤 객체가 다른 객체에 자신의 변화를 통보할 수 있는데, 그 변화에 관심이 있어하는 객체들이 누구인지에 대한 가정 없이도 그러한 통보가 될 때, 

### 중요 포인트 

- Subject, Object 클래스 간에는 추상적인 결합도 많이 존재합니다. 
- 브로드 캐스트 방식의 교류를 가능하게 합니다. 
- 예측하지 못한 정보를 갱신합니다. 

## 코드예시 

### Golang 